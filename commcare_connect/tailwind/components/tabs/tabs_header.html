<div 
    x-data="{ activeTab: 0 }" 
    class="flex gap-x-4 bg-blue-sky text-blue-light rounded-lg shadow-sm px-3 pt-3 mb-2 w-full"
>
    {% for tab in tabs %}
        <span 
            class="tab-item relative cursor-pointer pb-3" 
            :class="{ 'text-deep-purple': activeTab === {{ forloop.counter0 }} }" 
            @click="activeTab = {{ forloop.counter0 }}"
            hx-get="{{tab.url}}"
            hx-target="#flagged-worker-table-container"
            hx-swap="innerHTML"
            hx-trigger="click, load"
        >
            <span>{{ tab.name }}</span>
            <span x-show="activeTab === {{ forloop.counter0 }}" class="ml-1">({{ tab.count }})</span>
            <span 
                x-cloak 
                class="absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-mango rounded-t-lg" 
                x-show="activeTab === {{ forloop.counter0 }}" 
                x-transition:enter="transition ease-out duration-200"
                x-transition:enter-start="opacity-0 translate-y-1"
                x-transition:enter-end="opacity-100 translate-y-0"
                x-transition:leave="transition ease-in duration-150"
                x-transition:leave-start="opacity-100 translate-y-0"
                x-transition:leave-end="opacity-0 translate-y-1"
            ></span>
        </span>
    {% endfor %}
</div>