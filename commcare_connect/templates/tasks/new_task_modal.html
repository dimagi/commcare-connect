{% load i18n crispy_forms_tags static %}

<link rel="stylesheet" href="{% static 'bundles/css/tomselect.css' %}">
<script src="{% static 'bundles/js/tomselect-bundle.js' %}" defer></script>

<div x-show="{{ modal_name }}" x-cloak x-transition.opacity class="modal-backdrop" role="dialog" aria-modal="true"
    aria-labelledby="new-task-modal-title" @keydown.escape.window="{{ modal_name }} = false">
    <div @click.outside="{{ modal_name }} = false" class="modal">

        <div class="flex justify-end mb-2">
            <button type="button" class="button-icon" @click="{{ modal_name }} = false"
                    aria-label="{% trans 'Close dialog' %}">
                <i class="fa-solid fa-xmark cursor-pointer" aria-hidden="true"></i>
            </button>
        </div>

        <div class="flex flex-col items-center mb-4">
            <div class="flex items-center justify-center w-12 h-12 rounded-full bg-indigo-100 mb-3">
                <i class="fa-solid fa-list-check" aria-hidden="true"></i>
            </div>
            <h2 id="new-task-modal-title" class="text-xl font-bold text-brand-deep-purple">
                {% trans "Create Task" %}
            </h2>
            <p class="text-sm text-gray-500 text-center mt-1">
                {% trans "Create a new task, and assign it to the relevant Connect Worker." %}
            </p>
        </div>

        <form method="post" action="{{ create_task_url }}">
            {% csrf_token %}
            {% crispy form %}
            <div class="flex justify-between gap-3 pt-2">
                <button type="button" @click="{{ modal_name }} = false"
                        class="button button-md outline-style flex-1">
                    {% trans "Cancel" %}
                </button>
                <button type="submit" class="button button-md primary-dark flex-1">
                    {% trans "Save Changes" %}
                </button>
            </div>
        </form>
    </div>
</div>
